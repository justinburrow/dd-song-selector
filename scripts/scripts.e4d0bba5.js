(function(){"use strict";angular.module("ddSongSelectApp",["ngAnimate","ngCookies","ngResource","ngRoute","ngSanitize","ngTouch"]).config(["$routeProvider",function(a){return a.when("/",{templateUrl:"views/main.html"}).otherwise({redirectTo:"/"})}])}).call(this),function(){"use strict";angular.module("ddSongSelectApp").controller("MainCtrl",["$http","$scope",function($http,$scope){var vm;vm=this,window.MAIN=this,vm.sortType="song.title",vm.searchQuery="default",vm.genreFilter=[],vm.tempoFilter=[],vm.selectedSongs=[],vm.send={},$http.get("songs/songs.json").success(function(a){var b,c,d;for(vm.songList=a,c=0,vm.songGenres=[];c<vm.songList.songlist.songs.length;)b=vm.songList.songlist.songs[c].song.genre,b&&-1===vm.songGenres.indexOf(b)&&vm.songGenres.push(b),c++;for(c=0,vm.songTempos=[];c<vm.songList.songlist.songs.length;)d=vm.songList.songlist.songs[c].song.tempo,d&&-1===vm.songTempos.indexOf(d)&&vm.songTempos.push(d),c++;return vm.allSongsTotal=vm.songList.songlist.songs.length}),vm.clickFilter=function(name,type){var filterArray,index;return filterArray=eval("vm."+type+"Filter"),index=filterArray.indexOf(name),-1===index?filterArray.push(name):filterArray.splice(index,1)},vm.selectSong=function(a){var b,c,d;return b=a.song.ID,c=vm.getSelectedSongIndex(b),-1===c?(d={id:b,title:a.song.title,artist:a.song.artist,genre:a.song.genre,tempo:a.song.tempo},vm.selectedSongs.push(d)):vm.selectedSongs.splice(c,1)},vm.getSelectedSongIndex=function(a){var b;for(b=0;b<vm.selectedSongs.length;){if(vm.selectedSongs[b].id===a)return b;b++}return-1},vm.closer=function(){$scope.reviewOpen=!1,$scope.optionOpen=!1,$scope.showThanks=!1,angular.element("body").removeClass("fixed"),window.innerWidth<768&&window.scrollTo(0,$scope.topShim)},vm.topShim=function(){$scope.topShim=window.pageYOffset,angular.element("body").addClass("fixed").css("top",-$scope.topShim-25)},vm.submitter=function(){var a,b;return a={songs:vm.selectedSongs,client:vm.send},b=$http.post("scripts/mailer.php",a),b.success(function(a,b,c,d){return vm.success()})},vm.success=function(){var a;for($scope.reviewOpen=!1,$scope.optionOpen=!1,$scope.showThanks=!0,vm.selectedSongs=[],vm.send={},vm.genreFilter=[],vm.tempoFilter=[],a=0;a<vm.filteredSongs.length;)vm.filteredSongs[a].checked=!1,a++;angular.element("body").addClass("fixed"),angular.element("input").attr("checked",!1)}}])}.call(this),function(){"use strict";angular.module("ddSongSelectApp").directive("headerOffset",function(){return{restrict:"A",link:function(a,b,c){return a.headerHeight=angular.element(".header").outerHeight()+20,b.css("padding-top",a.headerHeight)}}})}.call(this),function(){"use strict";angular.module("ddSongSelectApp").filter("inArray",["$filter",function(a){return function(b,c,d){return c.length>0?a("filter")(b,function(a){return-1!==c.indexOf(a.song[d])}):b}}])}.call(this),angular.module("ddSongSelectApp").run(["$templateCache",function(a){"use strict";a.put("views/main.html",'<div class="col-sm-3 filter-col" data-ng-class="{\'expand\': optionOpen}"> <span class="closer visible-xs" data-ng-click="main.closer()"><i class="fa fa-times"></i></span> <div class="filter-sort"> <h4>Search for songs</h4> <div class="search"> <input type="text" value="" placeholder="Song or Artist Name" ng-model="searchSongs"> </div> <div class="filter"> <h4>Filter by Genre</h4> {{main.genreInclude}} <ul> <li data-ng-repeat="genre in main.songGenres"><input type="checkbox" id="GenreFilter-{{genre}}" class="filter" data-ng-click="main.clickFilter(genre, \'genre\')"><label for="GenreFilter-{{genre}}">{{genre}}</label></li> </ul> </div> <div class="filter"> <h4>Filter by Tempo</h4> <ul> <li data-ng-repeat="tempo in main.songTempos"><input type="checkbox" id="TempoFilter-{{tempo}}" class="filter" data-ng-click="main.clickFilter(tempo, \'tempo\')"><label for="TempoFilter-{{tempo}}">{{tempo}}</label></li> </ul> </div> </div> </div> <div class="col-sm-9 col-sm-offset-3 col-xs-12"> <p class="filter-list">Viewing <span class="bold">{{main.filteredSongs.length}}</span> of <span class="bold">{{main.allSongsTotal}}</span> songs <span ng-if="main.filteredSongs.length < main.allSongsTotal">in "<span class="items" data-ng-if="searchSongs">Search: {{searchSongs}}</span><span class="items" data-ng-repeat="genre in main.genreFilter">{{genre}}</span><span class="items" data-ng-repeat="tempo in main.tempoFilter">{{tempo}}</span>"</span></p> <table class="table table-striped song-list"> <thead> <tr> <td class="checked" data-ng-click="main.sortType = \'-checked\'" width="6%"> <i class="fa fa-check"></i> <span data-ng-show="main.sortType == \'-checked\'" class="glyphicon glyphicon-triangle-bottom hidden-md hidden-sm"></span> </td> <td data-ng-click="main.sortType = \'song.title\'" width="44%"> Title <span data-ng-show="main.sortType == \'song.title\'" class="glyphicon glyphicon-triangle-bottom hidden-md hidden-sm"></span> </td> <td data-ng-click="main.sortType = \'song.artist\'" width="26%"> Artist <span data-ng-show="main.sortType == \'song.artist\'" class="glyphicon glyphicon-triangle-bottom hidden-md hidden-sm"></span> </td> <td class="hidden-xs" data-ng-click="main.sortType = \'song.genre\'" width="12%"> Genre <span data-ng-show="main.sortType == \'song.genre\'" class="glyphicon glyphicon-triangle-bottom hidden-md hidden-sm"></span> </td> <td class="hidden-xs" data-ng-click="main.sortType = \'song.tempo\'" width="12%"> Tempo <span data-ng-show="main.sortType == \'song.tempo\'" class="glyphicon glyphicon-triangle-bottom hidden-md hidden-sm"></span> </td> </tr> </thead> <tr data-ng-repeat="song in main.filteredSongs = (main.songList.songlist.songs | orderBy: main.sortType | filter: searchSongs | inArray:main.genreFilter:\'genre\' | inArray:main.tempoFilter:\'tempo\')" data-ng-init="song.checked=false"> <td> <input type="checkbox" id="{{song.song.title}}" data-ng-model="song.checked" data-ng-click="main.selectSong(song)"> <label for="{{song.song.title}}"><span class="display-none">{{song.song.title}}</span></label> </td> <td> <h2>{{song.song.title}}</h2> </td> <td> <h3>{{song.song.artist}}</h3> </td> <td class="hidden-xs"> {{song.song.genre}} </td> <td class="hidden-xs"> {{song.song.tempo}} </td> </tr>  </table> </div> <div class="selected-songs" data-ng-class="{\'expand\': reviewOpen}"> <span class="closer" data-ng-click="main.closer()"><i class="fa fa-times"></i></span> <div class="selected-holder"> <div class="selector-holder"> <h4>Your song list</h4> <p class="visible-xs help">Almost done... review your list and then input your information below to send it off!</p> <ul class="tempo"> <li data-ng-repeat="tempo in main.songTempos | orderBy: tempo"> <h5>{{tempo}}</h5> <ul class="songs"> <li data-ng-repeat="song in (filteredTempo = (main.selectedSongs | filter:{tempo:tempo}))"><span class="bold">{{song.title}}</span> - {{song.artist}}</li> <li ng-if="!filteredTempo.length">No <span class="lowercase">{{tempo}}</span> songs selected</li> </ul> </li> </ul> </div> <div class="selector-holder"> <h4>Send us your songs</h4> <input type="text" name="name" value="" placeholder="Name" data-ng-model="main.send.name" required> <input type="email" name="email" value="" placeholder="Email" data-ng-model="main.send.email" required> <button type="button" name="button" data-ng-class="{\'disabled\': !main.send.name || !main.send.email}" data-ng-disabled="!main.send.name && !main.send.email" data-ng-click="main.submitter()">All Finished!</button> </div> </div> </div> <div class="success" data-ng-class="{\'show\': showThanks}"> <span class="closer" data-ng-click="main.closer()"><i class="fa fa-times"></i></span> <h6>Thanks for sending us your song selections!</h6> <p>We\'ll put this in our notes for your event.</p> </div>')}]);